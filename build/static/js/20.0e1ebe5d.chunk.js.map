{"version":3,"sources":["pages/CreateAccount.js","assets/img/Home.jpg"],"names":["country_list","CreateAccount","loading","setLoading","useState","userInfo","setUserInfo","first_name","last_name","email","country","password","confirm_password","history","useHistory","onChange","e","target","name","value","allTruthy","Object","values","every","React","createElement","className","aria-hidden","src","ImageLight","alt","ImageDark","Label","Input","type","placeholder","Select","map","Button","block","disabled","onClick","async","api","post","username","then","res","push","sessionStorage","setItem","jwt","data","catch","err","_err$response","_err$response$data","_err$response$data$er","_err$response2","_err$response2$data","_err$response2$data$e","toast","response","error","message","console","log","finally","Link","to","module","exports"],"mappings":"+GAAA,mFASIA,EAAe,CACjB,cACA,UACA,UACA,UACA,SACA,WACA,wBACA,YACA,UACA,QACA,YACA,UACA,aACA,UACA,UACA,aACA,WACA,UACA,UACA,SACA,QACA,UACA,SACA,UACA,2BACA,WACA,SACA,yBACA,SACA,WACA,eACA,UACA,WACA,WACA,aACA,iBACA,OACA,QACA,QACA,WACA,QACA,eACA,aACA,gBACA,UACA,cACA,OACA,SACA,iBACA,UACA,WACA,WACA,qBACA,UACA,QACA,cACA,oBACA,UACA,WACA,mBACA,gBACA,OACA,UACA,SACA,mBACA,qBACA,QACA,SACA,UACA,UACA,QACA,YACA,SACA,YACA,UACA,OACA,YACA,WACA,SACA,gBACA,SACA,QACA,WACA,YACA,UACA,UACA,QACA,YACA,OACA,OACA,UACA,cACA,SACA,QACA,UACA,QACA,SACA,SACA,aACA,QACA,SACA,kBACA,OACA,SACA,UACA,UACA,UACA,QACA,gBACA,YACA,aACA,QACA,YACA,aACA,SACA,WACA,WACA,OACA,QACA,aACA,YACA,SACA,UACA,SACA,WACA,aACA,aACA,UACA,aACA,UACA,QACA,cACA,uBACA,gBACA,cACA,YACA,QACA,UACA,SACA,OACA,WACA,YACA,SACA,mBACA,WACA,OACA,cACA,SACA,WACA,cACA,QACA,UACA,UACA,SACA,SACA,8BACA,QACA,aACA,YACA,eACA,UACA,SACA,aACA,eACA,YACA,WACA,WACA,eACA,cACA,QACA,YACA,uBACA,WACA,aACA,YACA,QACA,WACA,YACA,SACA,cACA,QACA,SACA,aACA,WACA,WACA,eACA,OACA,QACA,wBACA,UACA,SACA,eACA,qBACA,SACA,UACA,uBACA,iBACA,UACA,aACA,YACA,UACA,sBACA,QACA,SACA,YAmJaC,UAjJf,WACE,MAAOC,EAASC,GAAcC,oBAAS,IAChCC,EAAUC,GAAeF,mBAAS,CACvCG,WAAY,GACZC,UAAW,GACXC,MAAO,GACPC,QAAS,GACTC,SAAU,GACVC,iB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","file":"static/js/20.0e1ebe5d.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport ImageLight from \"../assets/img/Home.jpg\";\nimport ImageDark from \"../assets/img/Home.jpg\";\nimport { Input, Label, Button, Select } from \"@windmill/react-ui\";\nimport { useState } from \"react\";\nimport { api } from \"../utils/queries\";\nimport { toast } from \"react-toastify\";\nvar country_list = [\n  \"Afghanistan\",\n  \"Albania\",\n  \"Algeria\",\n  \"Andorra\",\n  \"Angola\",\n  \"Anguilla\",\n  \"Antigua &amp; Barbuda\",\n  \"Argentina\",\n  \"Armenia\",\n  \"Aruba\",\n  \"Australia\",\n  \"Austria\",\n  \"Azerbaijan\",\n  \"Bahamas\",\n  \"Bahrain\",\n  \"Bangladesh\",\n  \"Barbados\",\n  \"Belarus\",\n  \"Belgium\",\n  \"Belize\",\n  \"Benin\",\n  \"Bermuda\",\n  \"Bhutan\",\n  \"Bolivia\",\n  \"Bosnia &amp; Herzegovina\",\n  \"Botswana\",\n  \"Brazil\",\n  \"British Virgin Islands\",\n  \"Brunei\",\n  \"Bulgaria\",\n  \"Burkina Faso\",\n  \"Burundi\",\n  \"Cambodia\",\n  \"Cameroon\",\n  \"Cape Verde\",\n  \"Cayman Islands\",\n  \"Chad\",\n  \"Chile\",\n  \"China\",\n  \"Colombia\",\n  \"Congo\",\n  \"Cook Islands\",\n  \"Costa Rica\",\n  \"Cote D Ivoire\",\n  \"Croatia\",\n  \"Cruise Ship\",\n  \"Cuba\",\n  \"Cyprus\",\n  \"Czech Republic\",\n  \"Denmark\",\n  \"Djibouti\",\n  \"Dominica\",\n  \"Dominican Republic\",\n  \"Ecuador\",\n  \"Egypt\",\n  \"El Salvador\",\n  \"Equatorial Guinea\",\n  \"Estonia\",\n  \"Ethiopia\",\n  \"Falkland Islands\",\n  \"Faroe Islands\",\n  \"Fiji\",\n  \"Finland\",\n  \"France\",\n  \"French Polynesia\",\n  \"French West Indies\",\n  \"Gabon\",\n  \"Gambia\",\n  \"Georgia\",\n  \"Germany\",\n  \"Ghana\",\n  \"Gibraltar\",\n  \"Greece\",\n  \"Greenland\",\n  \"Grenada\",\n  \"Guam\",\n  \"Guatemala\",\n  \"Guernsey\",\n  \"Guinea\",\n  \"Guinea Bissau\",\n  \"Guyana\",\n  \"Haiti\",\n  \"Honduras\",\n  \"Hong Kong\",\n  \"Hungary\",\n  \"Iceland\",\n  \"India\",\n  \"Indonesia\",\n  \"Iran\",\n  \"Iraq\",\n  \"Ireland\",\n  \"Isle of Man\",\n  \"Israel\",\n  \"Italy\",\n  \"Jamaica\",\n  \"Japan\",\n  \"Jersey\",\n  \"Jordan\",\n  \"Kazakhstan\",\n  \"Kenya\",\n  \"Kuwait\",\n  \"Kyrgyz Republic\",\n  \"Laos\",\n  \"Latvia\",\n  \"Lebanon\",\n  \"Lesotho\",\n  \"Liberia\",\n  \"Libya\",\n  \"Liechtenstein\",\n  \"Lithuania\",\n  \"Luxembourg\",\n  \"Macau\",\n  \"Macedonia\",\n  \"Madagascar\",\n  \"Malawi\",\n  \"Malaysia\",\n  \"Maldives\",\n  \"Mali\",\n  \"Malta\",\n  \"Mauritania\",\n  \"Mauritius\",\n  \"Mexico\",\n  \"Moldova\",\n  \"Monaco\",\n  \"Mongolia\",\n  \"Montenegro\",\n  \"Montserrat\",\n  \"Morocco\",\n  \"Mozambique\",\n  \"Namibia\",\n  \"Nepal\",\n  \"Netherlands\",\n  \"Netherlands Antilles\",\n  \"New Caledonia\",\n  \"New Zealand\",\n  \"Nicaragua\",\n  \"Niger\",\n  \"Nigeria\",\n  \"Norway\",\n  \"Oman\",\n  \"Pakistan\",\n  \"Palestine\",\n  \"Panama\",\n  \"Papua New Guinea\",\n  \"Paraguay\",\n  \"Peru\",\n  \"Philippines\",\n  \"Poland\",\n  \"Portugal\",\n  \"Puerto Rico\",\n  \"Qatar\",\n  \"Reunion\",\n  \"Romania\",\n  \"Russia\",\n  \"Rwanda\",\n  \"Saint Pierre &amp; Miquelon\",\n  \"Samoa\",\n  \"San Marino\",\n  \"Satellite\",\n  \"Saudi Arabia\",\n  \"Senegal\",\n  \"Serbia\",\n  \"Seychelles\",\n  \"Sierra Leone\",\n  \"Singapore\",\n  \"Slovakia\",\n  \"Slovenia\",\n  \"South Africa\",\n  \"South Korea\",\n  \"Spain\",\n  \"Sri Lanka\",\n  \"St Kitts &amp; Nevis\",\n  \"St Lucia\",\n  \"St Vincent\",\n  \"St. Lucia\",\n  \"Sudan\",\n  \"Suriname\",\n  \"Swaziland\",\n  \"Sweden\",\n  \"Switzerland\",\n  \"Syria\",\n  \"Taiwan\",\n  \"Tajikistan\",\n  \"Tanzania\",\n  \"Thailand\",\n  \"Timor L'Este\",\n  \"Togo\",\n  \"Tonga\",\n  \"Trinidad &amp; Tobago\",\n  \"Tunisia\",\n  \"Turkey\",\n  \"Turkmenistan\",\n  \"Turks &amp; Caicos\",\n  \"Uganda\",\n  \"Ukraine\",\n  \"United Arab Emirates\",\n  \"United Kingdom\",\n  \"Uruguay\",\n  \"Uzbekistan\",\n  \"Venezuela\",\n  \"Vietnam\",\n  \"Virgin Islands (US)\",\n  \"Yemen\",\n  \"Zambia\",\n  \"Zimbabwe\",\n];\nfunction CreateAccount() {\n  const [loading, setLoading] = useState(false);\n  const [userInfo, setUserInfo] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n    country: \"\",\n    password: \"\",\n    confirm_password:\"\"\n  });\n\n  const history = useHistory();\n\n  const onChange = (e) => {\n    setUserInfo({\n      ...userInfo,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const initiateRegister = async () => {\n    setLoading(true);\n    await api\n      .post(\"/auth/local/register\", {...userInfo, username:userInfo.email})\n      .then((res) => {\n        history.push(\"/login\");\n        sessionStorage.setItem('token', res.jwt)\n        return res.data;\n      })\n      .catch((err) =>{ \n        \n        toast( err?.response?.data?.error?.message || 'An error occured please try again')\n        console.log(err?.response?.data?.error?.message)})\n      .finally(() => setLoading(false));\n  };\n\n  const allTruthy = Object.values(userInfo).every(value => value);\n\n  return (\n    <div className=\"flex items-center min-h-screen py-32 bg-gray-50 dark:bg-gray-900  bg-white\">\n      <div className=\"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800\">\n        <div className=\"flex flex-col overflow-y-auto md:flex-row\">\n          <div className=\"h-32 md:h-auto md:w-1/2\">\n            <img\n              aria-hidden=\"true\"\n              className=\"object-cover w-full h-full dark:hidden\"\n              src={ImageLight}\n              alt=\"Office\"\n            />\n            <img\n              aria-hidden=\"true\"\n              className=\"hidden object-cover w-full h-full dark:block\"\n              src={ImageDark}\n              alt=\"Office\"\n            />\n          </div>\n          <main className=\"flex items-center justify-center p-6 sm:p-12 md:w-1/2\">\n            <div className=\"w-full\">\n              <h1 className=\"mb-4 text-xl font-semibold italic text-center text-gray-700 dark:text-gray-200\">\n                Create account\n              </h1>\n              <Label>\n                <span>First Name</span>\n                <Input\n                  className=\"mt-1\"\n                  onChange={onChange}\n                  name=\"first_name\"\n                  type=\"text\"\n                  placeholder=\"John\"\n                />\n              </Label>\n              <Label className=\"mt-4\">\n                <span>Last Name</span>\n                <Input\n                  className=\"mt-1\"\n                  onChange={onChange}\n                  name=\"last_name\"\n                  type=\"text\"\n                  placeholder=\"Doe\"\n                />\n              </Label>\n              <Label className=\"mt-4\">\n                <span>Country</span>\n                <Select onChange={onChange} name=\"country\" className=\"mt-1\">\n                  {country_list.map((country) => (\n                    <option>{country}</option>\n                  ))}\n                </Select>\n              </Label>\n              <Label className=\"mt-4\">\n                <span>Email</span>\n                <Input\n                  onChange={onChange}\n                  className=\"mt-1\"\n                  name=\"email\"\n                  type=\"email\"\n                  placeholder=\"john@doe.com\"\n                />\n              </Label>\n              <Label className=\"mt-4\">\n                <span>Password</span>\n                <Input\n                  onChange={onChange}\n                  className=\"mt-1\"\n                  name=\"password\"\n                  placeholder=\"***************\"\n                  type=\"password\"\n                />\n              </Label>\n              <Label className=\"mt-4\">\n                <span>Confirm password</span>\n                <Input\n                  className=\"mt-1\"\n                  onChange={onChange}\n                  placeholder=\"***************\"\n                  type=\"password\"\n                  name='confirm_password'\n                />\n              </Label>\n\n              <Button block disabled={!allTruthy || userInfo.password !== userInfo.confirm_password} className=\"mt-4\" onClick={initiateRegister}>\n                {loading ? \"Loading...\" : \"Create account\"}\n              </Button>\n              {\n                 userInfo.password !== userInfo.confirm_password && userInfo.password && userInfo.confirm_password ?   <p className='text-sm text-center text-red-600'>Please ensure passwords match</p> : null\n              }\n            \n\n              <hr className=\"my-8\" />\n\n              <p className=\"mt-4\">\n                <Link\n                  className=\"text-sm font-medium text-blue dark:text-purple-400 hover:underline\"\n                  to=\"/login\"\n                >\n                  Already have an account? Login\n                </Link>\n              </p>\n            </div>\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CreateAccount;\n","module.exports = __webpack_public_path__ + \"static/media/Home.e83b8002.jpg\";"],"sourceRoot":""}