{"version":3,"sources":["pages/Settings.js","components/Typography/PageTitle.js","components/CTA.js","components/Typography/SectionTitle.js"],"names":["Settings","loading","setLoading","useState","investLoading","setInvestLoading","password","setPassword","currentPassword","passwordConfirmation","user","setUser","dusk","setDesk","message","setMessage","useEffect","async","api","get","then","res","data","catch","err","_err$response2","_err$response2$data","_err$response2$data$e","toast","response","error","userDetails","passwordOnchange","e","target","name","value","React","createElement","PageTitle","SectionTitle","className","Label","Input","disabled","first_name","last_name","placeholder","email","onChange","Button","onClick","post","_err$response","_err$response$data","_err$response$data$er","finally","Textarea","rows","_err$response4","_err$response4$data","_err$response4$data$e","_ref","children","CTA","fill","viewBox","d"],"mappings":"+GAAA,2EAuNeA,UAtMEA,KACf,MAAOC,EAASC,GAAcC,oBAAS,IAChCC,EAAeC,GAAoBF,oBAAS,IAC5CG,EAAUC,GAAeJ,mBAAS,CACvCK,gBAAiB,GACjBF,SAAU,GACVG,qBAAsB,MAGjBC,EAAMC,GAAWR,mBAAS,KAE1BS,EAAMC,GAAWV,mBAAS,KAC1BW,EAASC,GAAcZ,mBAAS,IAmCvCa,oBAAU,KAfUC,iBACZC,IACHC,IAAI,aACJC,KAAMC,IACLV,EAAQU,EAAIC,MACLD,IAERE,MAAOC,IAAS,IAADC,EAAAC,EAAAC,EACdC,aACK,OAAHJ,QAAG,IAAHA,GAAa,QAAVC,EAAHD,EAAKK,gBAAQ,IAAAJ,GAAM,QAANC,EAAbD,EAAeH,YAAI,IAAAI,GAAO,QAAPC,EAAnBD,EAAqBI,aAAK,IAAAH,OAAvB,EAAHA,EAA4Bb,UAC1B,wCAMRiB,IACC,IAGH,MAwCMC,EAAoBC,IACxB1B,EAAY,IACPD,EACH,CAAC2B,EAAEC,OAAOC,MAAOF,EAAEC,OAAOE,SAI9B,OACEC,IAAAC,cAAA,WACED,IAAAC,cAACC,IAAS,KAAC,YACXF,IAAAC,cAACE,IAAY,KAAC,mBAEdH,IAAAC,cAAA,OAAKG,UAAU,iEAMbJ,IAAAC,cAACI,QAAK,CAACD,UAAU,QACfJ,IAAAC,cAAA,YAAM,QACND,IAAAC,cAACK,QAAK,CAACC,UAAQ,EAAER,OAAW,OAAJ1B,QAAI,IAAJA,OAAI,EAAJA,EAAMmC,YAAa,KAAU,OAAJnC,QAAI,IAAJA,OAAI,EAAJA,EAAMoC,WAAWL,UAAU,OAAOM,YAAY,cAEjGV,IAAAC,cAACI,QAAK,CAACD,UAAU,QACfJ,IAAAC,cAAA,YAAM,SACND,IAAAC,cAACK,QAAK,CAACC,UAAQ,EAACR,MAAW,OAAJ1B,QAAI,IAAJA,OAAI,EAAJA,EAAMsC,MAAQP,UAAU,OAAOM,YAAY,cAEpEV,IAAAC,cAACI,QAAK,CAACD,UAAU,QACfJ,IAAAC,cAAA,YAAM,sBACND,IAAAC,cAACK,QAAK,CACJM,SAAUjB,EACVG,KAAK,kBACLM,UAAU,OACVM,YAAY,cAGhBV,IAAAC,cAACI,QAAK,CAACD,UAAU,QACfJ,IAAAC,cAAA,YAAM,sBACND,IAAAC,cAACK,QAAK,CACJM,SAAUjB,EACVS,UAAU,OACVN,KAAK,WACLY,YAAY,cAGhBV,IAAAC,cAACI,QAAK,CAACD,UAAU,QACfJ,IAAAC,cAAA,YAAM,wBACND,IAAAC,cAACK,QAAK,CACJM,SAAUjB,EACVS,UAAU,OACVN,KAAK,uBACLY,YAAY,cAGhBV,IAAAC,cAACI,QAAK,CAACD,UAAU,SACfJ,IAAAC,cAACY,SAAM,CACLT,UAAU,OACVU,QAvIalC,UACrBf,GAAW,SACLgB,IACHkC,KAAK,wBAAyB,IAC1B9C,IAEJc,KAAMC,IACLO,YAAM,iCACCP,IAERE,MAAOC,IAAS,IAAD6B,EAAAC,EAAAC,EACd3B,aACK,OAAHJ,QAAG,IAAHA,GAAa,QAAV6B,EAAH7B,EAAKK,gBAAQ,IAAAwB,GAAM,QAANC,EAAbD,EAAe/B,YAAI,IAAAgC,GAAO,QAAPC,EAAnBD,EAAqBxB,aAAK,IAAAyB,OAAvB,EAAHA,EAA4BzC,UAC1B,uCAGL0C,QAAQ,IAAMtD,GAAW,KAwHpB0C,UACGtC,EAASA,WACTA,EAASE,kBACTF,EAASG,sBAGXR,EAAU,UAAY,qBAqB7BoC,IAAAC,cAACE,IAAY,KAAC,mBAEdH,IAAAC,cAAA,OAAKG,UAAU,iEACbJ,IAAAC,cAACI,QAAK,CAACD,UAAU,QACfJ,IAAAC,cAAA,YAAM,WACND,IAAAC,cAACmB,WAAQ,CACPhB,UAAU,cACViB,KAAK,IACLT,SAAWhB,GAAMlB,EAAWkB,EAAEC,OAAOE,OACrCW,YAAY,wBAGhBV,IAAAC,cAACY,SAAM,CAACT,UAAU,OAAOU,QAvHXlC,UAClBZ,GAAiB,SACXa,IACHkC,KAAK,YAAa,CACjB9B,KAAM,CACJR,aAGHM,KAAMC,IACLO,YACE,wEAEKP,IAERE,MAAOC,IAAS,IAADmC,EAAAC,EAAAC,EACdjC,aACK,OAAHJ,QAAG,IAAHA,GAAa,QAAVmC,EAAHnC,EAAKK,gBAAQ,IAAA8B,GAAM,QAANC,EAAbD,EAAerC,YAAI,IAAAsC,GAAO,QAAPC,EAAnBD,EAAqB9B,aAAK,IAAA+B,OAAvB,EAAHA,EAA4B/C,UAC1B,uCAGL0C,QAAQ,IAAMnD,GAAiB,KAmGiBuC,UAAW9B,GACvDV,EAAgB,UAAY,oB,gCC9MvC,oBAQemC,IANf,SAAkBuB,GAAgB,IAAf,SAAEC,GAAUD,EAC7B,OACEzB,IAAAC,cAAA,MAAIG,UAAU,gEAAgEsB,K,gCCJlF,oBAoBeC,IAlBf,WACE,OACE3B,IAAAC,cAAA,QACEG,UAAU,qKAEVJ,IAAAC,cAAA,OAAKG,UAAU,qBACbJ,IAAAC,cAAA,OAAKG,UAAU,eAAewB,KAAK,eAAeC,QAAQ,aACxD7B,IAAAC,cAAA,QAAM6B,EAAE,8VAEV9B,IAAAC,cAAA,YAAM,0C,gCCXd,oBAMeE,IAJf,SAAqBsB,GAAgB,IAAf,SAAEC,GAAUD,EAChC,OAAOzB,IAAAC,cAAA,MAAIG,UAAU,+DAA+DsB","file":"static/js/15.f00f4f12.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\n\nimport CTA from \"../components/CTA\";\nimport PageTitle from \"../components/Typography/PageTitle\";\nimport SectionTitle from \"../components/Typography/SectionTitle\";\nimport {\n  Input,\n  HelperText,\n  Label,\n  Select,\n  Textarea,\n  Button,\n} from \"@windmill/react-ui\";\nimport { api } from \"../utils/queries\";\nimport { useState } from \"react\";\nimport { toast } from \"react-toastify\";\n\nconst Settings = () => {\n  const [loading, setLoading] = useState(false);\n  const [investLoading, setInvestLoading] = useState(false);\n  const [password, setPassword] = useState({\n    currentPassword: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n  });\n\n  const [user, setUser] = useState({});\n\n  const [dusk, setDesk] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const ChangePassword = async () => {\n    setLoading(true);\n    await api\n      .post(\"/auth/change-password\", {\n        ...password,\n      })\n      .then((res) => {\n        toast(\"Password changed successfully\");\n        return res;\n      })\n      .catch((err) => {\n        toast(\n          err?.response?.data?.error?.message ||\n            \"An error occured please try again\"\n        );\n      })\n      .finally(() => setLoading(false));\n  };\n\n  const userDetails = async () => {\n    await api\n      .get(\"/users/me\")\n      .then((res) => {\n        setUser(res.data)\n        return res;\n      })\n      .catch((err) => {\n        toast(\n          err?.response?.data?.error?.message ||\n            \"An error occured please try again\"\n        );\n      });\n  };\n\n  useEffect(() => {\n    userDetails();\n  }, []);\n\n\n  const ChangeCurrency = async () => {\n    await api\n      .post(\"/auth/change-password\", {\n        ...password,\n      })\n      .then((res) => {\n        toast(\"Password changed successfully\");\n        return res;\n      })\n      .catch((err) => {\n        toast(\n          err?.response?.data?.error?.message ||\n            \"An error occured please try again\"\n        );\n      });\n  };\n\n  const sendMessage = async () => {\n    setInvestLoading(true);\n    await api\n      .post(\"/supports\", {\n        data: {\n          message,\n        },\n      })\n      .then((res) => {\n        toast(\n          \"You have contacted support, your request will be attended to shortly\"\n        );\n        return res;\n      })\n      .catch((err) => {\n        toast(\n          err?.response?.data?.error?.message ||\n            \"An error occured please try again\"\n        );\n      })\n      .finally(() => setInvestLoading(false));\n  };\n\n  const passwordOnchange = (e) => {\n    setPassword({\n      ...password,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <div>\n      <PageTitle>Settings</PageTitle>\n      <SectionTitle>Change password</SectionTitle>\n\n      <div className=\"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800\">\n        {/* <Label>\n          <span>Name</span>\n          <Input className=\"mt-1\" placeholder=\"Jane Doe\" />\n        </Label> */}\n\n        <Label className=\"mt-4\">\n          <span>Name</span>\n          <Input disabled  value={user?.first_name + ' ' + user?.last_name} className=\"mt-1\" placeholder=\"Jane Doe\" />\n        </Label>\n        <Label className=\"mt-4\">\n          <span>Email</span>\n          <Input disabled value={user?.email}  className=\"mt-1\" placeholder=\"Jane Doe\" />\n        </Label>\n        <Label className=\"mt-4\">\n          <span>Enter old password</span>\n          <Input\n            onChange={passwordOnchange}\n            name=\"currentPassword\"\n            className=\"mt-1\"\n            placeholder=\"Jane Doe\"\n          />\n        </Label>\n        <Label className=\"mt-4\">\n          <span>Enter New Password</span>\n          <Input\n            onChange={passwordOnchange}\n            className=\"mt-1\"\n            name=\"password\"\n            placeholder=\"Jane Doe\"\n          />\n        </Label>\n        <Label className=\"mt-4\">\n          <span>Confirm new password</span>\n          <Input\n            onChange={passwordOnchange}\n            className=\"mt-1\"\n            name=\"passwordConfirmation\"\n            placeholder=\"Jane Doe\"\n          />\n        </Label>\n        <Label className=\"mt-4 \">\n          <Button\n            className=\"mt-4\"\n            onClick={ChangePassword}\n            disabled={\n              !password.password ||\n              !password.currentPassword ||\n              !password.passwordConfirmation\n            }\n          >\n            {loading ? \"Loading\" : \"Change Password\"}\n          </Button>\n        </Label>\n      </div>\n      {/* cant change currency as it will cause problems with conversion */}\n      {/* \n\n      <SectionTitle>Change currency</SectionTitle> */}\n\n      {/* <div className=\"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800\">\n        <Label className=\"mt-4\">\n          <span>Select currency</span>\n          <Select className=\"mt-1\">\n            <option>$</option>\n            <option>₦</option>\n            <option>£</option> \n          </Select>\n        </Label>\n      </div> */}\n\n      {/* <!-- Inputs with icons --> */}\n      <SectionTitle>Contact support</SectionTitle>\n\n      <div className=\"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800\">\n        <Label className=\"mt-4\">\n          <span>Message</span>\n          <Textarea\n            className=\"mt-1 border\"\n            rows=\"3\"\n            onChange={(e) => setMessage(e.target.value)}\n            placeholder=\"Enter your message\"\n          />\n        </Label>\n        <Button className=\"mt-4\" onClick={sendMessage} disabled={!message}>\n          {investLoading ? \"Loading\" : \"Send Message\"}\n        </Button>\n      </div>\n\n      {/* <!-- Inputs with buttons --> */}\n    </div>\n  );\n};\n\nexport default Settings;\n","import React from 'react'\n\nfunction PageTitle({ children }) {\n  return (\n    <h1 className=\"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200\">{children}</h1>\n  )\n}\n\nexport default PageTitle\n","import React from 'react'\n\nfunction CTA() {\n  return (\n    <span\n      className=\"flex items-center justify-between p-4 mb-8 text-sm font-semibold text-white bg-custom-red-600 rounded-lg shadow-md focus:outline-none focus:shadow-outline-purple\"\n    >\n      <div className=\"flex items-center\">\n        <svg className=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"></path>\n        </svg>\n        <span>Welcome to your TechTime dashboard</span>\n      </div>\n      {/* <span>\n        View more <span dangerouslySetInnerHTML={{ __html: '&RightArrow;' }}></span>\n      </span> */}\n    </span>\n  )\n}\n\nexport default CTA\n","import React from 'react'\n\nfunction SectionTitle({ children }) {\n  return <h2 className=\"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300\">{children}</h2>\n}\n\nexport default SectionTitle\n"],"sourceRoot":""}