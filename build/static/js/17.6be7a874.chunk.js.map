{"version":3,"sources":["pages/Payment.js","components/Typography/PageTitle.js","components/Typography/SectionTitle.js"],"names":["Payment","paymentInfo","setPaymentInfo","useState","amount","method","is_verified","voucher_code","voucher_type","files","setFiles","loading","setLoading","onChange","e","target","name","value","React","createElement","PageTitle","SectionTitle","className","Fragment","concat","style","cursor","onClick","src","Label","Input","type","placeholder","Button","layout","multiple","disabled","async","formData","FormData","append","JSON","stringify","length","Array","from","forEach","file","api","post","then","res","toast","data","catch","err","console","log","finally","_ref","children"],"mappings":"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","file":"static/js/17.6be7a874.chunk.js","sourcesContent":["import React from \"react\";\nimport PageTitle from \"../components/Typography/PageTitle\";\nimport SectionTitle from \"../components/Typography/SectionTitle\";\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  Label,\n  Input,\n  Select,\n} from \"@windmill/react-ui\";\nimport { useState } from \"react\";\nimport { api } from \"../utils/queries\";\nimport { toast } from \"react-toastify\";\nconst Payment = () => {\n  const [paymentInfo, setPaymentInfo] = useState({\n    amount: 0,\n    method: \"gift card\",\n    is_verified: false,\n    voucher_code: \"\",\n    voucher_type: \"\",\n  });\n  const [files, setFiles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const onChange = (e) => {\n    if (e.target.name == \"method\") {\n      setPaymentInfo({\n        ...{\n          amount: 0,\n          is_verified: false,\n          voucher_code: \"\",\n          voucher_type: \"\",\n        },\n        [e.target.name]: e.target.value,\n      });\n      return;\n    }\n    setPaymentInfo({\n      ...paymentInfo,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const initiatePayment = async () => {\n    setLoading(true);\n    const formData = new FormData();\n    formData.append(\"data\", JSON.stringify({ ...paymentInfo }));\n\n    if (files.length) {\n      Array.from(files).forEach((file) => {\n        formData.append(`files.receipt`, file, file.name);\n      });\n    }\n    await api\n      .post(\"/donations\", formData)\n      .then((res) => {\n        toast(\"Desposit made\");\n        return res.data;\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setLoading(false));\n  };\n\n  const handleFile = (e) => {\n    setFiles(e.target.files);\n  };\n\n  return (\n    <div>\n      <PageTitle>Add Funds</PageTitle>\n      <SectionTitle>Gift Card payments</SectionTitle>\n\n      <div className=\"px-4 py-3 mb-8 bg-white rounded-lg mx-auto shadow-md max-w-3xl dark:bg-gray-800\">\n        Please specify the amount to be deposited and provide proof of payment\n        if available{\" \"}\n        {/* {paymentInfo.method == \"usd\"\n            ? \"and pay into the address below before confirming payment\"\n            : null}\n          <Label className=\"mt-4\">\n            <span>Mode of Payment</span>\n            <Select\n              placeholder=\"Select mode of payment\"\n              onChange={onChange}\n              value={paymentInfo.method}\n              name=\"method\"\n              className=\"mt-1 border rounded-sm\"\n            >\n              <option></option>\n              <option>usd</option>\n              <option>gift card</option>\n            </Select>\n          </Label> */}\n        {paymentInfo.method ? (\n          <>\n            {paymentInfo.method == \"gift card\" ? (\n              <>\n                <p className=\" text-sm mt-4 text-center\">\n                  Please select your gift card type by clicking one of the cards\n                  below\n                </p>\n                <div className=\"grid grid-cols-3 gap-4 mt-4 \">\n                  <div\n                    className={`flex justify-center max-h-20 p-4 cursor-pointer \n                        ${\n                          paymentInfo.voucher_type == \"play store\"\n                            ? \"bg-red\"\n                            : \"\"\n                        }`}\n                    style={{ cursor: \"pointer\" }}\n                    onClick={() =>\n                      setPaymentInfo({\n                        ...paymentInfo,\n                        voucher_type: \"play store\",\n                      })\n                    }\n                  >\n                    <img\n                      src=\"/img/play-store.jpg\"\n                      className=\"h-full rounded-sm\"\n                    />\n                  </div>\n                  <div\n                    className={`flex justify-center max-h-20 p-4 cursor-pointer \n                    ${paymentInfo.voucher_type == \"steam\" ? \"bg-red\" : \"\"}`}\n                    onClick={() =>\n                      setPaymentInfo({\n                        ...paymentInfo,\n                        voucher_type: \"steam\",\n                      })\n                    }\n                  >\n                    <img src=\"/img/steam.png\" className=\"h-full rounded-sm\" />\n                  </div>\n                  <div\n                    className={`flex justify-center max-h-20 p-4 cursor-pointer \n                    ${\n                      paymentInfo.voucher_type == \"american express\"\n                        ? \"bg-red\"\n                        : \"\"\n                    }`}\n                    onClick={() =>\n                      setPaymentInfo({\n                        ...paymentInfo,\n                        voucher_type: \"american express\",\n                      })\n                    }\n                  >\n                    <img src=\"/img/express.png\" className=\"h-full rounded-sm\" />\n                  </div>\n                </div>\n              </>\n            ) : null}\n\n            {paymentInfo.method == \"gift card\" && paymentInfo.voucher_type ? (\n              <>\n                <Label className=\"mt-4\">\n                  <span>Amount</span>\n                  <Input\n                    className=\"mt-1\"\n                    type=\"number\"\n                    onChange={onChange}\n                    name=\"amount\"\n                    placeholder=\"$100\"\n                  />\n                </Label>\n\n                <Label className=\"mt-4\">\n                  <span>Voucher code</span>\n                  <Input\n                    className=\"mt-1\"\n                    type=\"text\"\n                    onChange={onChange}\n                    name=\"voucher_code\"\n                    placeholder=\"hajhd-3dqdh-nuj3-ssqu3\"\n                  />\n                </Label>\n                {/* <p className=\"text-lg my-4 font-semibold\"> Upload images</p> */}\n                <p className=\" my-4 font-semibold\">\n                  Upload payment proof if available\n                </p>\n                <Button layout=\"outline\">\n                  <input\n                    type=\"file\"\n                    name=\"receipt\"\n                    className=\"\"\n                    onChange={handleFile}\n                    multiple\n                  />\n                </Button>\n              </>\n            ) : null}\n          </>\n        ) : null}\n        <div className=\"block mt-5\">\n        <Button disabled={loading || !paymentInfo.voucher_type || !paymentInfo.voucher_code || !paymentInfo.amount }  onClick={initiatePayment}>\n          {loading ? \"Loading\" : \"Confirm payment\"}\n        </Button>\n        </div>\n      \n      </div>\n    </div>\n  );\n};\n\nexport default Payment;\n","import React from 'react'\n\nfunction PageTitle({ children }) {\n  return (\n    <h1 className=\"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200\">{children}</h1>\n  )\n}\n\nexport default PageTitle\n","import React from 'react'\n\nfunction SectionTitle({ children }) {\n  return <h2 className=\"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300\">{children}</h2>\n}\n\nexport default SectionTitle\n"],"sourceRoot":""}