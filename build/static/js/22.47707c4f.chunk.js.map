{"version":3,"sources":["pages/Login.js","assets/img/Home.jpg"],"names":["Login","loading","setLoading","useState","userInfo","setUserInfo","identifier","password","history","useHistory","onChange","e","target","name","value","React","createElement","className","aria-hidden","src","ImageLight","alt","ImageDark","Label","Input","type","placeholder","Button","block","onClick","async","localStorage","removeItem","api","post","then","res","sessionStorage","setItem","data","jwt","user","confirmed","push","catch","err","_err$response","_err$response$data","_err$response$data$er","toast","response","error","message","console","log","finally","initiateLogin","Link","to","module","exports"],"mappings":"+GAAA,mFAkIeA,UAzHf,WACE,MAAOC,EAASC,GAAcC,oBAAS,IAChCC,EAAUC,GAAeF,mBAAS,CACvCG,WAAY,GACZC,SAAU,KAENC,EAAUC,cACVC,EAAYC,IAChBN,EAAY,IACPD,EACH,CAACO,EAAEC,OAAOC,MAAOF,EAAEC,OAAOE,SAuB9B,OACEC,IAAAC,cAAA,OAAKC,UAAU,2EACbF,IAAAC,cAAA,OAAKC,UAAU,kGACbF,IAAAC,cAAA,OAAKC,UAAU,6CACbF,IAAAC,cAAA,OAAKC,UAAU,2BACbF,IAAAC,cAAA,OACEE,cAAY,OACZD,UAAU,yCACVE,IAAKC,IACLC,IAAI,WAENN,IAAAC,cAAA,OACEE,cAAY,OACZD,UAAU,+CACVE,IAAKG,IACLD,IAAI,YAGRN,IAAAC,cAAA,QAAMC,UAAU,yDACdF,IAAAC,cAAA,OAAKC,UAAU,UACbF,IAAAC,cAAA,MAAIC,UAAU,+DAA8D,SAG5EF,IAAAC,cAACO,QAAK,KACJR,IAAAC,cAAA,YAAM,SACND,IAAAC,cAACQ,QAAK,CACJP,UAAU,OACVQ,KAAK,QACLZ,KAAK,aACLH,SAAUA,EACVgB,YAAY,kBAIhBX,IAAAC,cAACO,QAAK,CAACN,UAAU,QACfF,IAAAC,cAAA,YAAM,YACND,IAAAC,cAACQ,QAAK,CACJP,UAAU,OACVQ,KAAK,WACLf,SAAUA,EACVG,KAAK,WACLa,YAAY,qBAIhBX,IAAAC,cAACW,SAAM,CACLV,UAAU,OACVW,OAAK,EACLC,QAASA,IApEDC,WACpB5B,GAAW,GACX6B,aAAaC,WAAW,eAClBC,IACHC,KAAK,cAAe9B,GACpB+B,KAAMC,IACLC,eAAeC,QAAQ,QAASF,EAAIG,KAAKC,KACtCJ,EAAIG,KAAKE,KAAKC,WACflC,EAAQmC,KAAK,kBACRP,EAAIG,MAGJH,EAAIG,OAEZK,MAAOC,IAAS,IAADC,EAAAC,EAAAC,EACdC,aAAU,OAAHJ,QAAG,IAAHA,GAAa,QAAVC,EAAHD,EAAKK,gBAAQ,IAAAJ,GAAM,QAANC,EAAbD,EAAeP,YAAI,IAAAQ,GAAO,QAAPC,EAAnBD,EAAqBI,aAAK,IAAAH,OAAvB,EAAHA,EAA4BI,UAAW,qCAC9CC,QAAQC,IAAIT,KACbU,QAAQ,IAAMrD,GAAW,KAmDDsD,IAEbvD,EAAqB,aAAX,UAGdc,IAAAC,cAAA,MAAIC,UAAU,SAWdF,IAAAC,cAAA,KAAGC,UAAU,QACXF,IAAAC,cAACyC,IAAI,CACHxC,UAAU,2EACVyC,GAAG,oBACJ,0BAIH3C,IAAAC,cAAA,KAAGC,UAAU,QACXF,IAAAC,cAACyC,IAAI,CACHxC,UAAU,2EACVyC,GAAG,mBACJ,0B,mBCtHjBC,EAAOC,QAAU,IAA0B","file":"static/js/22.47707c4f.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport ImageLight from \"../assets/img/Home.jpg\";\nimport ImageDark from \"../assets/img/Home.jpg\";\nimport { Label, Input, Button } from \"@windmill/react-ui\";\nimport { api } from \"../utils/queries\";\nimport { toast } from \"react-toastify\";\n\nfunction Login() {\n  const [loading, setLoading] = useState(false);\n  const [userInfo, setUserInfo] = useState({\n    identifier: \"\",\n    password: \"\",\n  });\n  const history = useHistory();\n  const onChange = (e) => {\n    setUserInfo({\n      ...userInfo,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const initiateLogin = async () => {\n    setLoading(true);\n    localStorage.removeItem('token')\n    await api\n      .post(\"/auth/local\", userInfo)\n      .then((res) => {\n        sessionStorage.setItem('token', res.data.jwt)\n        if(res.data.user.confirmed){\n          history.push(\"/app/dashboard\");\n        return res.data;\n        }\n        \n        return res.data;\n      })\n      .catch((err) => {\n        toast( err?.response?.data?.error?.message || 'An error occured please try again')\n        console.log(err)})\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div className=\"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900 bg-white\">\n      <div className=\"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800\">\n        <div className=\"flex flex-col overflow-y-auto md:flex-row\">\n          <div className=\"h-32 md:h-auto md:w-1/2\">\n            <img\n              aria-hidden=\"true\"\n              className=\"object-cover w-full h-full dark:hidden\"\n              src={ImageLight}\n              alt=\"Office\"\n            />\n            <img\n              aria-hidden=\"true\"\n              className=\"hidden object-cover w-full h-full dark:block\"\n              src={ImageDark}\n              alt=\"Office\"\n            />\n          </div>\n          <main className=\"flex items-center justify-center p-6 sm:p-12 md:w-1/2\">\n            <div className=\"w-full\">\n              <h1 className=\"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200\">\n                Login\n              </h1>\n              <Label>\n                <span>Email</span>\n                <Input\n                  className=\"mt-1\"\n                  type=\"email\"\n                  name='identifier'\n                  onChange={onChange}\n                  placeholder=\"john@doe.com\"\n                />\n              </Label>\n\n              <Label className=\"mt-4\">\n                <span>Password</span>\n                <Input\n                  className=\"mt-1\"\n                  type=\"password\"\n                  onChange={onChange}\n                  name='password'\n                  placeholder=\"***************\"\n                />\n              </Label>\n\n              <Button\n                className=\"mt-4\"\n                block\n                onClick={() => initiateLogin()}\n              >\n                {!loading ? \"Log in\" : \"Loading...\"}\n              </Button>\n\n              <hr className=\"my-8\" />\n\n              {/* <Button block layout=\"outline\">\n                <GithubIcon className=\"w-4 h-4 mr-2\" aria-hidden=\"true\" />\n                Github\n              </Button>\n              <Button className=\"mt-4\" block layout=\"outline\">\n                <TwitterIcon className=\"w-4 h-4 mr-2\" aria-hidden=\"true\" />\n                Twitter\n              </Button> */}\n\n              <p className=\"mt-4\">\n                <Link\n                  className=\"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline\"\n                  to=\"/forgot-password\"\n                >\n                  Forgot your password?\n                </Link>\n              </p>\n              <p className=\"mt-1\">\n                <Link\n                  className=\"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline\"\n                  to=\"/create-account\"\n                >\n                  Create account\n                </Link>\n              </p>\n            </div>\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","module.exports = __webpack_public_path__ + \"static/media/Home.e83b8002.jpg\";"],"sourceRoot":""}